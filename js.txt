const squares = document.querySelectorAll(".square"); const timeLeft = document.querySelector("#time-left"); const scoreDisplay = document.querySelector("#score"); const restartBtn = document.querySelector("#restart-btn"); let result = 0; let hitPosition; let currentTime = 30; let timerId = null; let countDownTimerId = null; function randomSquare() { squares.forEach(square => { square.classList.remove("mole"); }); const randomSquarePosition = squares[Math.floor(Math.random() * 9)]; randomSquarePosition.classList.add("mole"); hitPosition = randomSquarePosition.id; } squares.forEach(square => { square.addEventListener("mousedown", () => { if (square.id === hitPosition) { result++; scoreDisplay.textContent = result; hitPosition = null; } }); }); function moveMole() { timerId = setInterval(randomSquare, 500); } function countDown() { currentTime--; timeLeft.textContent = currentTime; if (currentTime === 0) { endGame(); } } function startGame() { result = 0; currentTime = 30; scoreDisplay.textContent = result; timeLeft.textContent = currentTime; restartBtn.classList.add("hidden"); moveMole(); countDownTimerId = setInterval(countDown, 1000); } function endGame() { clearInterval(countDownTimerId); clearInterval(timerId); // Show restart button with final score restartBtn.textContent = `ðŸ”„ Restart Game â€” Final Score: ${result}`; restartBtn.classList.remove("hidden"); } // Restart button click restartBtn.addEventListener("click", () => { startGame(); }); // Start game automatically startGame();